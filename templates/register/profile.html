{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Edit Profile</h2>
    <form method="post">
        {% csrf_token %}
        {{ user_form.as_p }}
        <button type="submit" name="update_profile">Update Profile</button>
    </form>

    <h2>Change Password</h2>
    <form method="post">
        {% csrf_token %}
        {{ password_form.as_p }}
        <button type="submit" name="change_password">Change Password</button>
    </form>
</div>

{% for transaction in pending_requests %}
<div>
    <p>Payment request from {{ transaction.sender.username }}: Â£{{ transaction.amount }}</p>
    <a href="{% url 'respond_to_request' transaction.id 'accept' %}">Accept</a>
    <a href="{% url 'respond_to_request' transaction.id 'reject' %}">Reject</a>
</div>
{% empty %}
<p>No pending payment requests.</p>
{% endfor %}

{% endblock %}
