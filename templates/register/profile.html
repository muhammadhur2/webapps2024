{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Edit Profile</h2>
    <form method="post">
        {% csrf_token %}
        {{ user_form.as_p }}
        <button type="submit" name="update_profile">Update Profile</button>
    </form>

    <h2>Change Password</h2>
    <form method="post">
        {% csrf_token %}
        {{ password_form.as_p }}
        <button type="submit" name="change_password">Change Password</button>
    </form>
</div>

<h2>Pending Payment Requests</h2>
<table>
    <tr>
        <th>From</th>
        <th>Amount</th>
        <th>Actions</th>
    </tr>
    {% for request in pending_requests %}
    <tr>
        <td>{{ request.sender.username }}</td>
        <td>{{ request.amount }}</td>
        <td>
            <a href="{% url 'respond_to_request' request.id 'accept' %}">Accept</a>
            <a href="{% url 'respond_to_request' request.id 'reject' %}">Reject</a>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
